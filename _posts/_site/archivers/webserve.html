<h2 id="1虚拟机安装">1.虚拟机安装</h2>

<h3 id="软件">软件</h3>

<p>VMware Workstation Pro</p>

<p>CentOS-7-x86_64-Minimal-1804.iso</p>

<h2 id="安装过程">安装过程</h2>

<p>VMware Workstation安装过程(略)</p>

<p>centos安装,选择自定义,除安装路径及名称修改外一率默认(本人安装时默认是NTA模式,如不是则修改为NTA模式),以下为安装centos时可能会遇到的问题</p>

<p>1.虚拟机无法启动,弹出 “Windows 无法启动 VMware Authorization Service 服务”</p>

<p>解决方法:win+r,输入services.msc,打开服务列表,重新启动VMware Authorization Service</p>

<p>1.无法ping通外网</p>

<p>解决方法:在没有对以上步骤做任何改动情况下,设置<code class="highlighter-rouge">ONBOOT=yes</code>开机自动启用网卡,设置路径<code class="highlighter-rouge">vi /etc/sysconfig/network-scripts/ifcfg-设备名</code>,重启网卡<code class="highlighter-rouge">ervice network restart</code></p>

<h2 id="设置ngnix环境">设置ngnix环境</h2>

<h3 id="测试远程链接虚拟机">测试远程链接虚拟机</h3>

<p>(虚拟机IP可通过ip addr查看)</p>

<p>1.xShell链接</p>

<p>1.本机终端链接(bash) <code class="highlighter-rouge">ssh 用户名@ip</code></p>

<h3 id="配置环境">配置环境</h3>

<p><a href="https://blog.csdn.net/wxyjuly/article/details/79443432">CentOS7安装Nginx及配置</a></p>

<p><a href="https://blog.csdn.net/binginsist/article/details/58008995">nginx常用命令及简单配置</a></p>

<p><strong>要点</strong></p>

<p>配置文件修改 nginx.conf–&gt;user root; server下的端口以及根目录修改</p>

<p>本机要访问虚拟机ip需关闭虚拟机防火墙,进入虚拟机运行指令</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nx">systemctl</span> <span class="nx">stop</span> <span class="nx">firewalld</span><span class="p">.</span><span class="nx">service</span>
    <span class="nx">systemctl</span> <span class="nx">disable</span> <span class="nx">firewalld</span><span class="p">.</span><span class="nx">service</span>
    <span class="c1">//查看防火墙状态 firwall-cmd --state</span>
</code></pre></div></div>

<h3 id="上传本地文件">上传本地文件</h3>
<p><code class="highlighter-rouge">scp -r 文件夹名 用户名@ip地址：/远程服务器路径</code></p>

<p>如页面无法正常加载可尝试重载服务’ngnix -s reload’</p>

<p>如遇80端口被占用,可强制关闭80端口的程序<code class="highlighter-rouge">sudo fuser -k 80/tcp</code></p>

<h2 id="云服务器配置ngnix">云服务器配置(ngnix)</h2>

<p>云服务器配置比较简单,基本不会出bug,以阿里云为例</p>

<h3 id="服务器购买">服务器购买</h3>

<p>1.选择产品ECS按量付费(如果只是尝试配置平常不需要用到的话)</p>

<p>1.选择一律最低配置</p>

<p>1.需要注意的有两个点</p>

<p>系统镜像,选择Centos最新版</p>

<p>暴露80端口</p>

<p>基本一个小时不会超过两毛 亲测</p>

<h3 id="链接远程服务器">链接远程服务器</h3>

<p><code class="highlighter-rouge">ssh 用户名@ip</code></p>

<h3 id="安装web服务器">安装web服务器</h3>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">yum</span> <span class="nx">install</span> <span class="nx">nginx</span>
<span class="nx">vi</span> <span class="err">\</span><span class="nx">etc</span><span class="err">\</span><span class="nx">nginx</span><span class="err">\</span><span class="nx">nginx</span><span class="p">.</span><span class="nx">conf</span> <span class="c1">//修改user root以及网站根目录和启动文件</span>
</code></pre></div></div>

<h3 id="上传服务器">上传服务器</h3>
<p><code class="highlighter-rouge">scp -r 本地文件目录 用户名@ip:远程网站根目录</code></p>

<h3 id="相关指令">相关指令</h3>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">ps</span> <span class="o">-</span><span class="nx">ef</span><span class="o">|</span><span class="nx">grep</span> <span class="nx">nginx</span> <span class="c1">//查看服务器进程</span>
<span class="nx">nginx</span> <span class="o">-</span><span class="nx">s</span> <span class="nx">reload</span> <span class="c1">//重载</span>
</code></pre></div></div>

<p><strong>其他</strong></p>

<blockquote>
  <p><a href="https://note.youdao.com/share/?id=236896997b6ffbaa8e0d92eacd13abbf&amp;type=note#/">vmware虚拟机三种网络模式详解</a></p>
</blockquote>

